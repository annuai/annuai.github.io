//Simple Sidebar v1.1.1 by DcDeiv https://github.com/dcdeiv
// GPLv2 http://www.gnu.org/licenses/gpl-2.0-standalone.html
!function(a){a.fn.simpleSidebar=function(b){var c,d,e,h={settings:{opener:void 0,wrapper:void 0,ignore:void 0,data:"ssbplugin",animation:{duration:500,easing:"swing"},onClose:void 0},sidebar:{align:void 0,width:350,gap:64,closingLinks:"a",style:{zIndex:3e3}},mask:{style:{backgroundColor:"black",opacity:.5,filter:"Alpha(opacity=50)"}}},i=a.extend(!0,h,b),j=this,k=a(i.settings.opener),l=a(i.settings.wrapper),m=a(i.settings.ignore),n=i.settings.data,o=i.settings.animation.duration,p=i.settings.animation.easing,q=i.settings.onClose,r=i.sidebar.align,s=i.sidebar.width,t=i.sidebar.gap,u=i.sidebar.closingLinks,v=i.sidebar.style,w=i.mask.style,x=s+t,y=a("*").not(m).not(j).filter(function(){return"fixed"==a(this).css("position")}),z=a("*").not(m).filter(function(){return"absolute"==a(this).css("position")}),A=y.add(z).add(j).add(l).not(m),B=a(window).width(),C={position:"fixed",top:-200,right:-200,left:-200,bottom:-200,zIndex:i.sidebar.style.zIndex-1},D=a.extend({},w,C),E=0,F=function(){a("body, html").css({overflow:"hidden"}),E=0},G=function(){a("body, html").removeAttr("style"),E=1};j.css(v).wrapInner("<div data-"+n+'="sub-wrapper"></div>');var H=j.children().filter(function(){return"sub-wrapper"===a(this).data(n)});H.css({width:"100%",height:"100%",overflow:"auto"}),a("body").append("<div data-"+n+'="mask"></div>');var I=a("body").children().filter(function(){return"mask"===a(this).data(n)});return I.css(D).hide(),c=x>B?B-t:s,void 0===r||"left"===r?j.css({position:"fixed",top:0,bottom:0,left:0,width:c,marginLeft:-c}):j.css({position:"fixed",top:0,right:0,bottom:0,width:c,marginRight:-c}),k.click(function(){var b=j.width();d=void 0===r||"left"===r?{marginLeft:"+="+b,marginRight:"-="+b}:{marginRight:"+="+b,marginLeft:"-="+b},A.each(function(){a(this).animate(d,{duration:o,easing:p,complete:F})}),I.fadeIn()}),I.click(function(){E++;var b=j.width();countClicks=function(a){return 0===a%2?!0:!1},void 0===r||"left"===r?(d={marginLeft:"+="+b,marginRight:"-="+b},e={marginRight:"+="+b,marginLeft:"-="+b}):(d={marginRight:"+="+b,marginLeft:"-="+b},e={marginLeft:"+="+b,marginRight:"-="+b}),!1===countClicks(E)?(A.each(function(){a(this).animate(e,{duration:o,easing:p})}),I.fadeOut()):!0===countClicks(E)&&(A.each(function(){a(this).animate(d,{duration:o,easing:p,complete:F})}),I.fadeIn())}),j.on("click",u,function(b){var c=j.width();e=void 0===r||"left"===r?{marginRight:"+="+c,marginLeft:"-="+c}:{marginLeft:"+="+c,marginRight:"-="+c},A.each(function(){a(this).animate(e,{duration:o,easing:p}),I.fadeOut(),G()}),void 0!==q&&q(b)}),a(window).resize(function(){var b,c,d=a(this).width();b=x>d?d-t:s,j.css({width:b}),void 0===r||"left"===r?(c=parseInt(j.css("margin-left")),0>c?j.css({marginLeft:-b}):A.not(j).css({marginLeft:+b,marginRight:-b})):(c=parseInt(j.css("margin-right")),0>c?j.css({marginRight:-b}):A.not(j).css({marginLeft:-b,marginRight:+b}))}),this}}(jQuery);
